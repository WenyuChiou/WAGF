# Finance Skill Registry (Heterogeneous V3)
version: "1.0"

skills:
  # --- Common Skills ---
  - skill_id: "hold"
    name: "hold"
    description: "Maintain current position with no changes."
    eligible_agent_types: ["retail_trader", "institutional_investor"]
    allowed_state_changes: {}
    implementation: "market_engine.execute_skill"

  - skill_id: "do_nothing"
    name: "do_nothing"
    description: "Take no action at all."
    eligible_agent_types: ["retail_trader", "institutional_investor"]
    allowed_state_changes: {}
    implementation: "market_engine.execute_skill"

  # --- Retail-Specific Skills ---
  - skill_id: "buy"
    name: "buy"
    description: "Standard retail purchase of shares."
    eligible_agent_types: ["retail_trader"]
    preconditions: ["cash_balance > 500"]
    allowed_state_changes:
      cash_balance: "decrease"
      shares: "increase"
    implementation: "market_engine.execute_skill"

  - skill_id: "sell"
    name: "sell"
    description: "Standard retail sale of shares."
    eligible_agent_types: ["retail_trader"]
    preconditions: ["shares > 0"]
    allowed_state_changes:
      cash_balance: "increase"
      shares: "decrease"
    implementation: "market_engine.execute_skill"

  # --- Institutional-Specific Skills ---
  - skill_id: "buy_bulk"
    name: "buy_bulk"
    description: "Large-scale institutional purchase (Lower per-unit cost, higher market impact)."
    eligible_agent_types: ["institutional_investor"]
    preconditions: ["cash_balance > 5000"]
    allowed_state_changes:
      cash_balance: "decrease"
      shares: "increase"
    implementation: "market_engine.execute_skill"

  - skill_id: "sell_bulk"
    name: "sell_bulk"
    description: "Large-scale institutional sale to liquidate big positions."
    eligible_agent_types: ["institutional_investor"]
    preconditions: ["shares > 10"]
    allowed_state_changes:
      cash_balance: "increase"
      shares: "decrease"
    implementation: "market_engine.execute_skill"

  - skill_id: "rebalance"
    name: "rebalance"
    description: "Institutional re-alignment of portfolio weights based on risk target."
    eligible_agent_types: ["institutional_investor"]
    allowed_state_changes:
      cash_balance: "update"
      shares: "update"
    implementation: "market_engine.execute_skill"
